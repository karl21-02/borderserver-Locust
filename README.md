# 📝 Redis 기반 대용량 트래픽 처리 게시판 프로젝트

---

## 📌 프로젝트 개요
Redis를 활용하여 **대용량 트래픽**을 처리할 수 있는 게시판 프로젝트입니다.  
이번 테스트는 게시판 검색 API의 **성능**과 **안정성**을 검증하기 위한 다양한 시나리오로 구성되었습니다.

---

## 📊 성능 테스트 계획

### 🚀 1. Stress Test
- **목표**: 점진적인 부하 증가 속에서도 API가 정상적으로 동작하는지 확인.
- **테스트 조건**:
  - **👥 사용자 수**: 500
  - **📄 게시글 수**: 10만
  - **🌐 웹 서버 주소**: 게시판 검색 API 엔드포인트 URL
  - **📨 요청 메서드**: POST
  - **⏱️ 테스트 시간**: 5분
- **📋 시나리오**:
  - **초당 500회 호출**로 시작, 분당 사용자 수를 **50명씩 증가**.
  - **5분 동안 서버 지표**(TPS, CPU, RAM, DISK 등)를 모니터링.

---

### 📈 2. Peak Test
- **목표**: TPS가 **단기간 내 급상승(1000)** 했을 때의 시스템 대응 능력을 평가.
- **테스트 조건**:
  - **👥 사용자 수**: 1000
  - **📄 게시글 수**: 10만
  - **🌐 웹 서버 주소**: 게시판 검색 API 엔드포인트 URL
  - **📨 요청 메서드**: POST
  - **⏱️ 테스트 시간**: 5분
- **📋 시나리오**:
  - **초당 100회 호출**로 시작, 초당 사용자 수를 **100명씩 증가**.
  - **5분 동안 서버 성능**(TPS, CPU, RAM, DISK 등)을 모니터링.

---

### 🛠️ 3. Endurance Test
- **목표**: 장시간 부하 속에서도 **시스템 안정성**을 확인.
- **테스트 조건**:
  - **👥 사용자 수**: 100
  - **📄 게시글 수**: 10만
  - **🌐 웹 서버 주소**: 게시판 검색 API 엔드포인트 URL
  - **📨 요청 메서드**: POST
  - **⏱️ 테스트 시간**: 10분
- **📋 시나리오**:
  - 100명의 동시 사용자가 **10분간 지속 호출**.
  - **서버 지표**(TPS, CPU, RAM, DISK 등)를 확인하며 안정성 평가.

---

## 🛠️ 테스트 실행 방법

### 1️⃣ 도구 준비
- 추천 도구: **Locust**
- 데이터베이스 준비: **10만 건의 게시글 데이터** 생성  
- Redis 최적화 설정 및 서버 모니터링 도구 연결

---

### 2️⃣ 테스트 실행
1. 각 테스트 시나리오에 따라 **부하 설정** 구성.
2. 테스트 실행 중 서버의 주요 지표를 **실시간 모니터링**.
3. 테스트 종료 후 수집된 데이터를 분석.

---

### 3️⃣ 결과 분석
- 주요 분석 지표:
  - **TPS(초당 처리 요청 수)**  
  - **응답 시간(Response Time)**  
  - **CPU, RAM, DISK 사용률**  
- 테스트 결과를 바탕으로 병목 현상 및 최적화 포인트 도출.

---

## 🎯 결과 목표
1. **성능 최적화**: Redis 기반의 검색 성능 강화.  
2. **안정성 확보**: 대용량 트래픽에서도 시스템이 안정적으로 동작.  
3. **확장성 검증**: 다양한 사용자 수와 부하 조건에서도 효율적 대응.

---

✨ **테스트 결과**는 프로젝트 성능 최적화 및 안정성 개선에 활용되며,  
사용자에게 **더 빠르고 안정적인 게시판 서비스**를 제공합니다.

-----------------------------------------------------------------------------------------------------

# 📊 Locust Stress Test Report

## 💡 Stress Test란?
**Stress Test**는 시스템에 점진적이거나 갑작스러운 높은 부하를 가하여 **최대 처리 용량**과 **안정성**을 검증하는 테스트입니다.  
이 테스트의 목표는 다음과 같습니다:
- **시스템 안정성 확인**: 과부하 상태에서의 동작 검증.
- **응답 시간 분석**: 요청 처리 시간과 성능 병목 확인.
- **최대 처리량(TPS<Transactions Per Second, 초당 처리 요청 수>) 측정**: 초당 처리 가능한 요청 수(TPS)를 파악.

---

## 🕒 Test Duration
- **Start**: 2025. 1. 25. 오후 10:45:26  
- **End**: 2025. 1. 25. 오후 10:47:53  
- **Duration**: 2 minutes and 27 seconds  

## 🎯 Target Host
- **URL**: [http://127.0.0.1:8080](http://127.0.0.1:8080)

## 📜 Script
- **File**: `AddPosts.py`

---

## 🚀 Request Statistics
| **Type** | **Name**         | **# Requests** | **# Fails** | **Average (ms)** | **Min (ms)** | **Max (ms)** | **Average size (bytes)** | **RPS** | **Failures/s** |
|----------|------------------|----------------|-------------|------------------|--------------|--------------|--------------------------|---------|----------------|
| POST     | `/posts`         | 95,235         | 0           | 644.45           | 22           | 3,456        | 454                      | 648.93  | 0              |
| POST     | `/users/sign-in` | 500            | 0           | 4,169.22         | 55           | 12,782       | 335                      | 3.41    | 0              |
| **Aggregated** | -            | **95,735**     | **0**       | **662.86**       | **22**       | **12,782**   | **453.38**               | **652.34** | **0**          |

---

## 📈 Response Time Statistics
| **Method** | **Name**         | **50%ile (ms)** | **60%ile (ms)** | **70%ile (ms)** | **80%ile (ms)** | **90%ile (ms)** | **95%ile (ms)** | **99%ile (ms)** | **100%ile (ms)** |
|------------|------------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|
| POST       | `/posts`         | 650             | 670             | 680             | 700             | 740             | 770             | 960             | 3,500           |
| POST       | `/users/sign-in` | 2,700           | 4,400           | 6,800           | 8,500           | 11,000          | 11,000          | 13,000          | 13,000          |
| **Aggregated** | -             | **650**         | **670**         | **680**         | **700**         | **740**         | **780**         | **1,500**       | **13,000**       |

---

## ❌ Failures Statistics
| **# Failures** | **Method** | **Name** | **Message** |
|----------------|------------|----------|-------------|
| 0              | -          | -        | -           |

---

## 📊 Charts

### Final Ratio
- **AddPosts**: 100.0%
- **addPost**: 100.0%

### Total Ratio
- **AddPosts**: 100.0%
- **addPost**: 100.0%

---

## 🔍 테스트 결과 요약
- **총 요청 수**: 95,735
- **실패 요청 수**: 0
- **평균 응답 시간**: 662.86ms
- **최대 응답 시간**: 12,782ms
- **TPS(Requests Per Second)**: 652.34
- **시스템 상태**: 정상 동작
  - 모든 요청이 성공적으로 처리되었으며, `/posts` 요청의 응답 시간은 안정적입니다.
  - `/users/sign-in` 요청의 평균 응답 시간(4,169.22ms)이 상대적으로 높아, 개선 가능성이 있습니다.
- 평균 CPU 사용량 : 75%

-----------------------------------------------------------------------------------------------------

# 📊 Locust Spike Test Report

## 💡 Spike Test란?
**Spike Test**는 시스템이 갑작스러운 높은 부하(트래픽 스파이크)에 얼마나 잘 대응할 수 있는지를 테스트하는 방식입니다.  
이 테스트의 목적은 다음과 같습니다:
- **시스템 안정성 확인**: 갑작스러운 부하에서의 성능 검증.
- **복구 능력 평가**: 부하가 감소한 후 시스템이 얼마나 빠르게 정상 상태로 돌아오는지 확인.
- **병목 지점 식별**: 트래픽 스파이크에서 발생하는 잠재적인 문제를 파악.

---

## 🕒 Test Duration
- **Start**: 2025. 1. 25. 오후 10:48:38  
- **End**: 2025. 1. 25. 오후 10:51:37  
- **Duration**: 2 minutes and 59 seconds  

## 🎯 Target Host
- **URL**: [http://127.0.0.1:8080](http://127.0.0.1:8080)

## 📜 Script
- **File**: `AddPosts.py`

---

## 🚀 Request Statistics
| **Type** | **Name**         | **# Requests** | **# Fails** | **Average (ms)** | **Min (ms)** | **Max (ms)** | **Average size (bytes)** | **RPS** | **Failures/s** |
|----------|------------------|----------------|-------------|------------------|--------------|--------------|--------------------------|---------|----------------|
| POST     | `/posts`         | 99,566         | 0           | 1,369.95         | 25           | 28,674       | 454                      | 555.92  | 0              |
| POST     | `/users/sign-in` | 1,000          | 0           | 21,994.63        | 49           | 73,135       | 335                      | 5.58    | 0              |
| **Aggregated** | -            | **100,566**    | **0**       | **1,575.04**     | **25**       | **73,135**   | **452.82**               | **561.51** | **0**          |

---

## 📈 Response Time Statistics
| **Method** | **Name**         | **50%ile (ms)** | **60%ile (ms)** | **70%ile (ms)** | **80%ile (ms)** | **90%ile (ms)** | **95%ile (ms)** | **99%ile (ms)** | **100%ile (ms)** |
|------------|------------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|
| POST       | `/posts`         | 1,500           | 1,600           | 1,600           | 1,600           | 1,700           | 1,800           | 2,000           | 29,000          |
| POST       | `/users/sign-in` | 15,000          | 22,000          | 33,000          | 45,000          | 60,000          | 66,000          | 72,000          | 73,000          |
| **Aggregated** | -             | **1,500**       | **1,600**       | **1,600**       | **1,700**       | **1,700**       | **1,800**       | **5,000**       | **73,000**       |

---

## ❌ Failures Statistics
| **# Failures** | **Method** | **Name** | **Message** |
|----------------|------------|----------|-------------|
| 0              | -          | -        | -           |

---

## 📊 Charts

### Final Ratio
- **AddPosts**: 100.0%
- **addPost**: 100.0%

### Total Ratio
- **AddPosts**: 100.0%
- **addPost**: 100.0%

---

## 🔍 테스트 결과 요약
- **총 요청 수**: 100,566
- **실패 요청 수**: 0
- **평균 응답 시간**: 1,575.04ms
- **최대 응답 시간**: 73,135ms
- **TPS(Requests Per Second)**: 561.51
- **시스템 상태**: 정상 동작
  - `/posts` 요청은 평균 응답 시간이 안정적(1,369.95ms)으로 처리되었습니다.
  - `/users/sign-in` 요청의 평균 응답 시간(21,994.63ms)은 매우 느려, 개선 가능성이 있습니다.
- 평균 CPU 사용량 : 90%


결론 : TPS가 낮았기 때문에 Application과 DB 리팩터링 진행행
